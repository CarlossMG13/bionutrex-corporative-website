import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Calendar, User, Eye } from 'lucide-react';\nimport { blogPostAPI } from '@/services/api';\nimport type { BlogPost } from '@/types';\nimport Loading from '@/components/shared/Loading';\n\nexport default function Blog() {\n  const [posts, setPosts] = useState<BlogPost[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    loadPosts();\n  }, []);\n\n  const loadPosts = async () => {\n    try {\n      setLoading(true);\n      const response = await blogPostAPI.getAll();\n      setPosts(response.data);\n      setError(null);\n    } catch (err) {\n      console.error('Error loading blog posts:', err);\n      setError('Error al cargar los art칤culos del blog');\n      // Posts de ejemplo como fallback\n      setPosts([\n        {\n          id: '1',\n          title: 'Bienvenidos a BioNutrex',\n          slug: 'bienvenidos-bionutrex',\n          excerpt: 'Conoce m치s sobre nuestra misi칩n y visi칩n en el mundo de la biotecnolog칤a nutricional.',\n          content: '',\n          imageUrl: '/uploads/blog-default.jpg',\n          author: 'Equipo BioNutrex',\n          published: true,\n          views: 0,\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString(),\n          publishedAt: new Date().toISOString()\n        }\n      ]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n          <div className=\"text-center\">\n            <h1 className=\"playfair text-4xl md:text-5xl lg:text-6xl font-bold text-[#0d40a5] mb-4\">\n              Blog BioNutrex\n            </h1>\n            <p className=\"raleway text-lg text-gray-600 max-w-3xl mx-auto\">\n              Descubre las 칰ltimas investigaciones, novedades y art칤culos cient칤ficos \n              en el fascinante mundo de la biotecnolog칤a nutricional.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        {error && (\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8\">\n            <div className=\"flex\">\n              <div className=\"ml-3\">\n                <h3 className=\"text-sm font-medium text-yellow-800\">\n                  Modo sin conexi칩n\n                </h3>\n                <div className=\"mt-2 text-sm text-yellow-700\">\n                  <p>{error}. Mostrando contenido de ejemplo.</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {posts.length > 0 ? (\n          <div className=\"grid gap-8 lg:grid-cols-2 xl:grid-cols-3\">\n            {posts.map((post) => (\n              <article\n                key={post.id}\n                className=\"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden\"\n              >\n                <div className=\"aspect-video bg-gray-200 relative overflow-hidden\">\n                  <img\n                    src={post.imageUrl}\n                    alt={post.title}\n                    className=\"w-full h-full object-cover hover:scale-105 transition-transform duration-300\"\n                  />\n                </div>\n                \n                <div className=\"p-6\">\n                  <h2 className=\"playfair text-xl font-bold text-gray-900 mb-3 line-clamp-2\">\n                    <Link \n                      to={`/blog/${post.slug}`}\n                      className=\"hover:text-[#0d40a5] transition-colors\"\n                    >\n                      {post.title}\n                    </Link>\n                  </h2>\n                  \n                  <p className=\"raleway text-gray-600 text-sm mb-4 line-clamp-3\">\n                    {post.excerpt}\n                  </p>\n                  \n                  <div className=\"raleway flex items-center justify-between text-xs text-gray-500 mb-4\">\n                    <div className=\"flex items-center gap-4\">\n                      <span className=\"flex items-center gap-1\">\n                        <User className=\"w-3 h-3\" />\n                        {post.author}\n                      </span>\n                      \n                      <span className=\"flex items-center gap-1\">\n                        <Calendar className=\"w-3 h-3\" />\n                        {formatDate(post.publishedAt || post.createdAt)}\n                      </span>\n                      \n                      <span className=\"flex items-center gap-1\">\n                        <Eye className=\"w-3 h-3\" />\n                        {post.views}\n                      </span>\n                    </div>\n                  </div>\n                  \n                  <Link\n                    to={`/blog/${post.slug}`}\n                    className=\"raleway inline-flex items-center text-[#0d40a5] hover:text-[#0d40a5]/80 font-medium text-sm transition-colors\"\n                  >\n                    Leer m치s\n                    <svg className=\"w-4 h-4 ml-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                    </svg>\n                  </Link>\n                </div>\n              </article>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-16\">\n            <div className=\"text-gray-400 text-6xl mb-4\">游닇</div>\n            <h3 className=\"playfair text-2xl font-bold text-gray-900 mb-2\">\n              No hay art칤culos publicados\n            </h3>\n            <p className=\"raleway text-gray-600 mb-8\">\n              Pronto compartiremos contenido fascinante sobre biotecnolog칤a nutricional.\n            </p>\n            <Link\n              to=\"/\"\n              className=\"raleway inline-flex items-center px-6 py-3 bg-[#0d40a5] text-white font-medium rounded-lg hover:bg-[#0d40a5]/90 transition-colors\"\n            >\n              Volver al inicio\n            </Link>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}
